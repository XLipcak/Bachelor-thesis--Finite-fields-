\documentclass[11pt,oneside]{fithesis2}
\usepackage[plainpages=false,pdfpagelabels,unicode]{hyperref} 
\usepackage[slovak]{babel}
\usepackage[cp1250]{inputenc}
\usepackage[T1]{fontenc} 
\usepackage{graphicx}
\usepackage{float}
\usepackage[section]{placeins}
\usepackage{enumitem}
\usepackage{multirow}
\usepackage{dtklogos}

\usepackage[titletoc]{appendix}

% no widows and orphans
\clubpenalty=9996
\widowpenalty=9999
\brokenpenalty=4991
\predisplaypenalty=10000
\postdisplaypenalty=1549
\displaywidowpenalty=1602


%page layout
\usepackage[a4paper, total={6in, 8in}]{geometry}

\usepackage{xcolor,colortbl}
\definecolor{Gray}{gray}{0.85}

%% <JAVA code package>
\usepackage{listings}
\usepackage{color}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Java,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true
  tabsize=3
}
%% </JAVA code package>



\usepackage{amsmath} 	%math
\usepackage{alltt}		%text formatting
\setcounter{secnumdepth}{3}		%subsubsection


\usepackage{titlesec}

\titleformat{\chapter}[display]
    {\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}
\titlespacing*{\chapter}{0pt}{0pt}{40pt}


\bibliographystyle{czechiso}

\thesistitle{Implementácia poèítania v koneènıch poliach v jazyku Java}
\thesissubtitle{Bakalárska práca}
\thesisstudent{Jakub Lipèák}
\thesiswoman{false}
\thesisfaculty{fi}
\thesisyear{jar 2014}
\thesisadvisor{Mgr. Dušan Klinec}


\begin{document}
\FrontMatter
\ThesisTitlePage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Chapter 0 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\chapter*{Prehlásenie}
%\DeclarationText
Prehlasujem, e táto bakalárska práca je mojim pôvodnım autorskım dielom, ktoré som vypracoval samostatne. 
Všetky zdroje, pramene a literatúru, ktoré som pri vypracovaní pouíval alebo z nich èerpal, v práci riadne 
citujem s uvedením úplného odkazu na príslušnı zdroj.
\\	\\	\\	
\hspace*{100mm} Jakub Lipèák
\vspace*{120mm}

\textbf{Vedúci práce:} Mgr. Dušan Klinec
%\AdvisorName

\chapter*{Poïakovanie}
Ïakujem...TODO

\chapter*{Zhrnutie}
Táto bakalárska práca sa venuje koneènım poliam. Je v nej predstavená struèná teória 
súvisiaca s koneènımi poliami. Ïalej obsahuje súhrn základnıch informácii o matematickıch kniniciach, 
ktoré vedia poèíta v koneènıch poliach. Jej praktickım vıstupom je kninica pre poèítanie v koneènıch poliach a taktie 
ukáka jej praktickej aplikácie v algoritme AES. Algoritmus AES a postupy vyuité pri implementácii vıslednej kninice sú
v práci popísané. V závere je tie popísané testovanie aplikáce a monosti jej rozšírení v budúcnosti.

\chapter*{K¾úèové slová}
koneèné polia, Galoisove polia, matematická kninica, AES, NTL

\MainMatter
\tableofcontents

\chapter {Úvod}
Koneèné polia sú dôleitou súèasou modernej algebry. Majú zaujímavé
matematické vlastnosti, vïaka èomu nachádzajú široké praktické vyuitie napríklad v kryptografii èi v kódovaní.
Z tohto dôvodu existuje poiadavka na nástroje, ktoré sú schopné efektívne
poèíta v koneènıch poliach.
\\
\mbox{\qquad } Táto bakalárska práca sa snaí túto poiadavku èo najviac naplni.
Jej cie¾om bolo vyvinú kninicu pre poèítanie
v koneènıch poliach s rôznymi matematickımi štruktúrami. Na 
vıvoj tejto kninice bol pouitı programovací jazyk Java, pre ktorı nie je dostupnıch
dostatok podobnıch nástrojov. Ako predloha pre vyvíjanú kninicu slúila
matematická kninica NTL, ktorej súèasou je mnostvo funkcií pre poèítanie v koneènıch poliach v jazyku C++.
\\
\mbox{\qquad } Druhá èas implementaènej èasti tejto práce mala slúi ako praktická aplikácia
vyvinutej kninice. Jej cie¾om bolo zisti pouite¾nos a funkènos tejto kninice
pri riešení reálnych problémov. Preto bol pomocou nej implementovanı 
šifrovací algoritmus AES, ktorı pri svojich vıpoètoch vyuíva aritmetiku koneènıch polí.
\\
\mbox{\qquad } Teoretická èas tejto práce je rozdelená do nieko¾kıch kapitol. Kapitola ~\ref{chap:ChapPolia} sa venuje
koneènım poliam. V struènosti popisuje ich vlastnosti, vyuitie a taktie
existujúce matematické kninice, ktoré v koneènıch poliach vedia poèíta.
Kapitola ~\ref{chap:ChapAes} sa venuje algoritmu AES. Rozoberá jeho históriu a kroky vykonávané pri šifrovaní a dešifrovaní.
Kapitola ~\ref{chap:ChapImpl} popisuje implementaènú èas tejto práce. Rozoberá algoritmy vyuívané vo 
vıslednej aplikácii. Ïalej poskytuje preh¾ad implementovanej funkcionality, spôsoby vyuité na 
jej otestovanie, a taktie opisuje vısledky rıchlostnıch porovnaní s kninicou NTL.





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Chapter 1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter {Polia v abstraktnej algebre}
\label{chap:ChapPolia}
Táto kapitola obsahuje struènı úvod do teórie polí a koneènıch polí
s popisom základnıch aritmetickıch operácií definovanıch nad tımito poliami.
Taktie obsahuje preh¾ad matematickıch kniníc, ktoré poskytujú funkcionalitu pre poèítanie v koneènıch poliach.

\section {Definícia}
Pod pojmom pole v abstraktnej algebre chápeme algebraickú štruktúru, ktorá sa skladá z mnoiny prvkov a dvoch 
binárnych operácií definovanıch na tejto mnoine. Znaèíme ho ako usporiadanú trojicu: $(F, +,$ ·$)$, kde 
$F$ je mnoina prvkov po¾a spoloène s aditívnou ($+$) a multiplikatívnou $($·$)$ binárnou operáciou~\cite{Introduction}.
Pre túto trojicu musia by splnené nasledujúce podmienky ~\cite{UCSD}:	\\
\begin{enumerate}

  \item $(F, +,$ ·$)$ musí by okruh\footnote{pre definíciu okruhu viï ... externı zdroj? alebo pridat definiciu do kapitoly?}.
  
  \item Multiplikatívna operácia musí by komutatívna: Pre všetky prvky $x, y \in F$ platí: $x$·$y = y$·$x$.
  
  \item Musí existova multiplikatívna identita: Existuje prvok $1 \in F$ takı, pre ktorı platí: $x$·$1 = 1$·$x = x$
  pre všetky prvky $x \in F$.
  
  \item Musí existova multiplikatívna inverzia: Pre všetky nenulové prvky $x \in F$ existuje inverznı prvok $y \in F$ s vlastnosou:
  $x$·$y = y$·$x = 1$.
  
\end{enumerate}



\section {Koneèné polia}
Koneèné polia, taktie oznaèované ako Galoisove polia (pod¾a francúzskeho matematika Evariste Galoisa), sú polia
obsahujúce koneènı poèet prvkov. Jedná sa o algebraické štruktúry s mnostvom zaujímavıch vlastností, vïaka ktorım
nachádzajú teoretické aj praktické vyuitie v rôznych odvetviach matematiky.

\subsection {Rád koneèného po¾a}
Kadé koneèné pole, ako vyplıva u zo samotného názvu tejto štruktúry, obsahuje len koneènı poèet prvkov. 
Tento poèet sa nazıva rád koneèného po¾a. Koneèné pole ${}F$ rádu ${}q$ existuje len vtedy, ak ${}q = p^n$, kde
${}p$ je prvoèíslo a ${}n$ kladné celé èíslo.    
Koneèné polia s rovnakım poètom prvkov sú navzájom izomorfné. Pod¾a rádu dané pole 
znaèíme ako $GF({p}^{n})$, prípadne F$_{{p}^{n}}$. Èíslu $p$ hovoríme, e je charakteristické pre dané pole~\cite{FiniteFieldWolfram}. 

 

\subsection {Konštrukcia koneèného po¾a}
\label{sec:IrredPoly}
Majme ¾ubovo¾né prvoèíslo $p$ a koneèné pole $GF(p)$.
Pre koneèné pole $GF(p)$ sú všetky operácie vykonávané modulo toto
prvoèíslo. Také pole nazıvame prvoèíselné a všetky jeho prvky sú zvyškové triedy modulo $p$.
Pre všetky prvky $x, y \in GF(p)$ platí: 
\begin{align*}
x = y \Leftrightarrow x \equiv y \ (mod \ p) .		\\
\end{align*}

\mbox{\qquad } Nech $p$ je ¾ubovo¾né prvoèíslo a $n$ celé èíslo väèšie ako 1.
Jednou z moností, ako skonštruova pole $GF({p}^{n})$, je vyui polynomiálnu reprezentáciu prvkov.
Najskôr je potrebné zvoli si pre toto pole charakteristickı ireducibilnı polynóm $f(x)$ stupòa $n$ s koeficientami v $GF(p)$.
Takı ireducibilnı polynóm existuje pre kadé $p$ a $n$ a vieme ho efektívne nájs~\cite{AbstractAlgebra}. 
Prvky po¾a $GF({p}^{n})$ sú potom polynómy stupòa najviac ${n - 1}$, ktorıch koeficienty patria do po¾a $GF(p)$
~\cite{SpringerCurveCryptography, Massachusetts}. 
Pre všetky prvky $x, y \in GF(p^n)$ platí ~\cite{FiniteFieldWolfram}: 
\begin{align*}
 x = y \Leftrightarrow x \equiv y \ (mod \ f(x)). \\
\end{align*}
 



\subsection {Aritmetické operácie nad koneènımi poliami}
Poèítanie v koneènıch poliach je závislé od rádu daného po¾a a taktie od zvoleného ireducibilného redukèného polynómu
pre dané koneèné pole.
Všetky aritmetické operácie nad po¾om $GF(p^n)$ s redukènım polynómom $f(x)$ sú vykonávané modulo polynóm $f(x)$
(prípadne modulo rád po¾a pre prvoèíselné polia). Pre kadé koneèné pole je definovaná len aditívna a 
multiplikatívna operácia.	\\
\mbox{\qquad } V nasledujúcej èasti je predstavená aritmetika základnych operácií pre poèítanie v koneènıch poliach~\cite{SpringerCurveCryptography}.
Budeme predpoklada, e $p$ je ¾ubovo¾né prvoèíslo a $n$ celé èíslo väèšie ako 1.
Pre skonštruovanie po¾a $GF({p}^{n})$ vyuijeme postup opísanı v sekcii ~\ref{sec:IrredPoly}.

\begin{itemize}
	\item \textbf{Sèítanie: } \\
	Nech máme pole $GF(p)$ a prvky ${x \in GF(p)}$ a ${y \in GF(p)}$. 
	Pre operáciu sèítania v tomto poli platí:
	\begin{align*}
		x + y = (x + y)\ mod \ p
	\end{align*}
	\mbox{\qquad } Pre pole $GF({p}^{n})$ s prvkami ${x \in}$ $GF({p}^{n})$ a ${y \in}$ $GF({p}^{n})$
	dostaneme vısledok vırazu ${x + y}$ sèítaním jednotlivıch koeficientov polynomiálnej reprezentácie tıchto prvkov.
	
	
	\item \textbf{Odèítanie: } \\
	Operácia odèítania je definovaná na základe aditívnej operácie.
	Nech máme pole $GF(p)$ a prvky ${x \in GF(p)}$ a ${y \in GF(p)}$.  
	Potom platí: 
	\begin{align*}
		x - y = x + (-y)
	\end{align*}
	kde prvok ${-y}$ je opaènı k prvku ${y}$, a teda platí: ${y + (-y) = 0}$.	\\
	\mbox{\qquad } Pre pole $GF({p}^{n})$ s prvkami ${x \in}$ $GF({p}^{n})$ a ${y \in}$ $GF({p}^{n})$
	dostaneme vısledok vırazu ${x - y}$ odèítaním jednotlivıch koeficientov polynomiálnej reprezentácie tıchto prvkov.
	
	
	\item \textbf{Násobenie: } \\
	Nech máme pole $GF(p)$ a prvky ${x \in GF(p)}$ a ${y \in GF(p)}$. 
	Pre multiplikatívnu operáciu platí: 
	\begin{align*}
		x \cdot y = (x \cdot y)\ mod \ p
	\end{align*}
	\mbox{\qquad } Ïalej si zvolíme pole $GF({p}^{n})$ s prvkami ${x \in}$ $GF({p}^{n})$ a ${y \in}$ $GF({p}^{n})$
	a redukènı polynóm ${f(x)}$ pre toto pole.
	Pre multiplikatívnu operáciu v poli $GF({p}^{n})$ platí:
	\begin{align*}
		x \cdot y = (x \cdot y)\ mod \ f(x)
	\end{align*}
	
	\item \textbf{Delenie: } \\
	Operácia delenia je definovaná na základe multiplikatívnej operácie. Nech máme koneèné pole $GF(p^n)$ pre $n \geq 1$.
	Pre toto pole si zvolíme redukènı polynóm ${f(x)}$, prvok ${x \in GF(p^n)}$ a nenulovı prvok ${y \in GF(p^n)}$. 
	Pre operáciu delenia v tomto polí platí:
	\begin{align*}
		x / y = x \cdot {y}^{-1}
	\end{align*}
	kde prvok ${y}^{-1}$ je inverznı k prvku ${y}$, a teda platí: ${y}$ · ${y^{-1} = 1}$.	\\
	\mbox{}\qquad Na vykonanie tejto operácie ale musíme pozna inverznı prvok menovate¾a. Spôsobov ako ho nájs 
	je nieko¾ko. Môme napríklad vyui vlastnos, e pre kadı prvok ${y} \in GF(p^n)$ 
	platí ${y}^{p^n} = y$, z èoho vyplıva~\cite{FiniteFieldWolfram}:
	\begin{align*}
		{y}^{-1} = {y}^{p^n-2}. \\
	\end{align*}	
	\mbox{}\qquad Pre ve¾ké koneèné polia je ale tento spôsob neefektívny a pouíva sa postup vychádzajúci
	z Bezoutovej rovnosti, ktorá hovorí~\cite{RoughMath}: \\
	\textbf{Veta 2.2.1} \emph{(Bezoutova rovnos)}.
	Nech $GF(p^n)$ je pole a prvky ${x, y \in GF(p^n)}$. Potom existuje ich najväèší spoloènı delite¾ $h$,
	ktorı je a na násobok nenulovım skalárom urèenı jednoznaène. Zároveò existujú prvky ${a, b \in GF(p^n)}$
	také, e: ${a}$ · ${x} + {b}$ · ${y} = h$
	 \\
	\mbox{}\qquad Na nájdenie koeficientov Bezoutovej rovnosti ${a}$ a ${b}$ sa pouíva Rozšírenı Euklidov algoritmus.
	Ten postupnım delením vstupnıch polynómov a ich zvyškov a ich následnımi úpravami získa tieto koeficienty aj
	najväèší spoloènı delite¾ vstupnıch prvkov. Ak teda h¾adáme inverznı prvok ${y^{-1}}$ v koneènom poli s 
	redukènım polynómom ${f(x)}$, Rozšírenım Euklidovım algoritmom získame nasledujúcu rovnos: \\
	\begin{align*}
		{a} \cdot {y} + {b} \cdot {f(x)} = 1
		\intertext{z èoho vyplıva:}
		 {y^{-1} = a}.
	\end{align*}
	 
	
\end{itemize}


\subsection {Vyuite koneènıch polí}
Koneèné polia majú zaujímavé matematické vlastnosti, vïaka èomu nachádzajú široké vyuitie v mnohıch 
aplikácách modernej algebry v reálnom svete. Vyuívajú sa napríklad v afínnej a projekènej geometrii. Taktie
sa pouívajú na riešenie niektorıch problémov v kombinatorike, a ich vlastnosti sa dajú aplikova aj pri 
generovaní pseudonáhodnıch sekvencií èísel.  \\
\mbox{\qquad }
V dnešnej dobe ohromného rozvoja informaènıch technológií sa kladie ve¾kı dôraz na zabezpeèenie
rıchlej, bezpeènej a spolahlivej komunikácie so zachovaním integrity a správnosti prenášanıch dát. Na zabezpeèenie 
niektorıch tıchto vlastností sa vyuívajú vlastnosti koneènıch polí. Sú dôleitou súèasou teórie kódovania, ktorá
sa zaoberá kódovaním informácií a minimalizovaním vzniku chyby pri ich prenose. Koneèné polia su ve¾mi vıznamné taktie pre
kryptografiu a sú dôleitou súèasou mnohıch kryptografickıch algoritmov ~\cite{Introduction}.


\section {Kninice pre poèítanie v koneènıch poliach}
Táto sekcia zobrazuje preh¾ad kniníc, ktoré poskytujú funkcionalitu pre poèítanie v koneènıch poliach. Väèšinou
sa jedná o ve¾mi rozsiahle kninice s širokım spektrom funkcií. Nie je tu preto detailnı rozbor toho, èo všetko 
dané kninice zvládajú. Jedná sa skôr o základnı preh¾ad ich vlastností s monosami ich vyuitia.
Taktie je pri kniniciach porovnaná ich pouívanos v ïalších projektoch zistená vïaka vısledkom vyh¾adávania v kóde projektov
v systéme GitHub\footnote{https://github.com/}.
Pri popise kadej z kniníc bola ako zdroj informácií vyuitá len oficiálna dokumentácia k danej kninici 
(odkaz na òu je vdy uvedenı na zaèiatku jej popisu za názvom danej kninice).	\\
\mbox{\qquad } Pre poèítanie v koneènıch poliach existuje pomerne široká škála rôznych kniníc. Väèšina z nich je napísaná v jazykoch
C a C++. Dôvodom je, e pri matematickıch operáciách dosahujú tieto jazyky 
najlepšie vıkonnostné, rıchlostné aj pamäové vısledky~\cite{Cecko}.
Pre iné programovacie jazyky môe by ale problematické nájs vhodné nástroje schopné poèíta v tejto oblasti.
Aj preto bolo cie¾om tejto bakalárskej práce vyvinú kninicu pre poèítanie v koneènıch poliach v jazyku Java, pre 
ktorı neexistuje dostatok podobnıch nástrojov.


\subsection { NTL }
NTL ~\cite{NTL} je matematická kninica napísaná v jazyku C++. Jej autorom je profesor pôsobiaci na New York University, Victor Shoup.
NTL sa vïaka svojej rıchlosti a efektivite stala uznávanou a pouívanou kninicou.  
Jej inštalácia je jednoduchá, platformovo nezávislá a funguje na strojoch s 32 aj s 64-bitovou architektúrou.
Je to vo¾ne dostupná kninica, ktorá môe by pouívaná pod¾a pravidiel licencie: GNU General Public License.\\

Kninica NTL poskytuje funkcie pre:

\begin{itemize}
  \item 
  Poèítanie s èíslami neobmedzenej dåky. Jedinım obmedzením v tomto smere sú dostupné pamäové monosti.
  Vïaka tejto vlastnosti je kninica NTL vhodná do projektov, ktorım pre èísla nepostaèujú štandardné primitívne dátové typy.
  
  \item 
  Poèítanie v celıch èíslach, v reálnych èíslach aj v koneènıch poliach. Poèítanie v koneènıch poliach
  je implementované pre polia $GF({2}^{n})$, ktoré sú najvhodnejšie pre vıpoèty na poèítaèi.
  
  \item 
  Poèítanie s rôznymi matematickımi objektami ako sú èísla, vektory, matice a polynómy. 
  
  \item 
  Mimoriadne efektívne poèítanie s polynómami ve¾kıch stupòov. Implementovanıch je mnostvo funkcií, ako napríklad:
  \begin{itemize}
	\item základná aritmetika polynómov
	\item najväèší spoloènı delite¾
	\item faktorizácia polynómov
	\item interpolácia polynómov
	\item testovanie ireducibility polynómov
	\item generovanie ireducibilnıch polynómov, a mnoho iného.
  \end{itemize}
  \mbox{\qquad } Vïaka ve¾mi vysokej rıchlosti pri práci s polynómami je táto kninica vhodná na riešenie problémov, kde
  je potrebné vykonáva komplikované vıpoèty s polynómami ve¾kıch stupòov. Môe sa napríklad jedna o testovanie ireducibility
  polynómov pri vytváraní redukèného polynómu pre ve¾ké koneèné polia. Taktie je kninica NTL ve¾mi efektívna pri faktorizácii
  polynómov. Ïalšie vyuitie môe nájs pri poèítaní s eliptickımi krivkami nad koneènımi poliami, 
  ktoré sa vyuívajú napríklad v kryptografii.
  
  \item 
  Špecifické problémy, pre ktoré existuje len ve¾mi málo dostupnıch riešení. NTL napríklad ponúka implementáciu 
  mriekovej redukcie (z anglického Lattice reduction). Podobnıch implementácií existuje len ve¾mi málo. 
 
\end{itemize}

\mbox{\qquad } Kninica NTL má mnostvo zaujímavej funkcionality, ktorá môu by vyuitá pre rôzne iné projekty. Vïaka implementácii
v jazyku C++ a dobrému objektovému návrhu je táto kninica dobre škálovatelná.
Ponúka rozhranie, ktoré umoòuje vyui jej funkcie pre mnostvo 
ïalších algoritmov bez straty vıkonu. Tieto vlastnosti sú dôvodom, preèo je vyuívaná v mnohıch projektoch. Na GitHube bolo
jej pouitie nájdené 138 195 krát. \\

\mbox{\qquad } Všetká funkcionalita, ktorú táto kninica poskytuje, je napísaná efektívne s dôrazom na rıchlos vıpoètov,
èo ju zaraïuje medzi najlepšie matematické kninice pre danú problematiku. Ak sa jej dá nieèo vytknú, je to mono nedostatok
dokumentácie. Kadá trieda kninice NTL poskytuje mnostvo metód, ktoré sú len ve¾mi struène zdokumentované. Samotnı kód
je bez jeho hlbšej štúdie ako èítatelnı a takmer bez komentárov. Pomohla by blišia špecifikácia pouitıch algoritmov
a zdôvodnenie v nich pouitıch krokov. Ïalej sa za nedostatok dá povaova reakcia metód na vstupy, pre ktoré
neexistuje riešenie. Kninica NTL v takom prípade vypíše chybu a ukonèí program. V niektorıch situáciách by ale bolo dobré
spracova chybu inım spôsobom ako ukonèením programu. Z toho dôvodu by mohlo by vhodnejšie pouitie vınimiek na 
spracovávanie chybovıch vstupov.

\subsection { GMP }
\label{subsec:GMP}
GMP~\cite{GMP} je kninica napísaná v jazyku C a je šírená pod vo¾nou licenciou. Je vyvíjaná u od roku 1991 so zameraním na èo najväèšiu 
rıchlos, napríklad vïaka nízkoúrovòovej optimalizácii niektorıch èastí kódu na úrovni jazyka symbolickıch strojovıch inštrukcií.
Svojou funkcionalitou sa trochu líši od ostatnıch kniníc popísanıch v tejto sekcii. Je to ale
èasto pouívanı nástroj vhodnı do projektov pre poèítanie v koneènıch poliach. Jej hlavnım cie¾om je poskytova funkcie a typy 
pre èísla s neobmedzenou dåkou. Dokáe pracova s celımi, reálnymi a racionálnymi èíslami aj s tım, e si pamätá ich znamienko. 
Pre všetky tieto typy poskytuje mnostvo rôznych aritmetickıch a logickıch funkcií.	\\
\mbox{\qquad } Jej vyuitie je teda vhodné v prípadoch, kde je potrebné ma prístupné dátové typy s neobmedzenou dåkou 
a ve¾kú rıchlos pri práci s nimi. Vyuíva sa najmä v rôznych kryptografickıch a bezpeènostnıch aplikáciách. Taktie je
urèená na vıvoj rôznych algebraickıch matematickıch systémov. Bola pouitá pri vıvoji niektorıch známych matematickıch
projektov, ako napríklad Maple, Mathematica èi Sage. \\
\mbox{\qquad } O jej dôleitosti svedèí aj 506 682 vısledkov vyh¾adávania vırazu GMP
v kódoch projektov na GitHube. Väèšina tıchto projektov je napísaná v jazyku C. Pre kninicu GMP ale existujú
portácie, ktoré jej rozhranie sprístupòujú aj pre ïa¾šie programovacie jazyky, ako napríklad Java, C\# èi Python.


\subsection { Givaro }
Givaro~\cite{Givaro} je matematická kninica napísaná v jazyku C++ urèená primárne pre operaènı systém Linux. 
Je spravovaná tımom francúzskych programátorov a je licencovaná pod licenciou: CeCILL-B. 	\\

Ponúka funkcie pre:
\begin{itemize}
  \item 
  Poèítanie s èíslami neobmedzenej dåky. Neponúka vlastnú implementáciu tejto funkcionality, ale
  vyuíva vo¾ne dostupnú kninicu GMP. Táto kninica poskytuje aritmetiku pre poèítanie s celımi,
  racionálnymi a reálnymi èíslami neobmedzenej dåky.
  
  \item 
  Poèítanie nad rôznymi algebraickımi štruktúrami ako sú koneèné polia, koneèné okruhy, algebraické èísla a klasické èisla.
  
  \item 
  Poèítanie s rôznymi matematickımi objektami ako sú polynómy, vektory a matice. Na vıpoèty v lineárnej algebre je vyuitá
  externá kninica LinBox\footnote{http://www.linalg.org/}.
  
  \item 
  Poèítanie vo viacerıch vláknach. Kninica Givaro je plne kompatibilná s externou kninicou 
  XKAAPI\footnote{http://kaapi.gforge.inria.fr/dokuwiki/doku.php}, ktorá umoòuje
  multivláknové poèítanie s dátovou synchronizáciou medzi jednotlivımi vláknami.
  
  \item 
  Rôzne zaujímavé vıpoèty z teórie èísel. Kninica Givaro disponuje modulmi, ktoré implementujú napríklad:\\
  \begin{itemize}
	\item faktorizáciu eliptickıch kriviek
	\item faktorizáciu polynómov
	\item šifrovanie RSA
	\item vıpoèet èínskej zvyškovej vety
	\item testovanie prvoèíselnosti
	\item riešenie lineárneho systému rovníc, a mnoho iného.
  \end{itemize} 
 
\end{itemize}

Givaro je zaujímavı nástroj, ktorého vıhodou je práca s niektorımi externımi kninicami. To vıznamne zvyšuje jej vyuitelnos.
V spolupráci s kninicou GMP je Givaro vhodné na vıvoj rôznych kryptografickıch a bezpeènostnıch aplikácii.
S vyuitím kninice LinBox je zas moné vyvíja matematické systémy so zameraním na operácie v lineárnej algebre.
Pouitie kninice Givaro na GitHube bolo nájdené 651 krát.

\subsection { Crypto++ }
Medzi ïalšie kninice schopné poèíta s koneènımi poliami patrí kninica Crypto++ ~\cite{Crypto++}. Ako vyplıva u zo samotného názvu tejto 
kninice, je zameraná na kryptografické algoritmy. Táto kninica je napísaná v jazyku C++ a je distribuovaná pod licenciou
Boost Software License 1.0. Bez problémov funguje na všetkıch širšie pouívanıch operaènıch systémoch.	\\
\mbox{\qquad } Z oblasti poèítania v koneènıch poliach ponúka táto kninica základnú aritmetiku pre poèítanie
s prvoèíselnımi poliami a s poliami $GF({2}^{n})$. Pri vıpoètoch vyuíva vlastnú implementáciu rıchlej aritmetiky nad
ponynómami a taktie s èíslami neobmedzenej dåky.	\\
\mbox{\qquad } Nie je to ale kninica urèená primárne na poskytovanie funkcií pre
poèítanie v koneènıch poliach. Je urèená najmä na praktickú aplikáciu mnohıch, prevane kryptografickıch algoritmov, ktoré 
sú touto kninicou implementované. Medzi ne patria napríklad: AES, DES, RSA, DSA, ElGamal,
Panama, Diffie-Hellman a mnoho ïalších. Vyuitie tejto kninice na GitHube bolo vo vısledkoch vyh¾adávania nájdené 16 710 krát.


\subsection { Fast Galois Field Arithmetic Library in C/C++ }
Kninicu Fast Galois Field Arithmetic Library in C/C++ ~\cite{FastGalois} vyvinul profesor James S. Plank pôsobiaci na University of Tennessee.
Jedná sa o kninicu napísanú v jazyku C. Svojou ve¾kosou sa nemôe rovna ostatnım kniniciam spomenutım v tejto sekcii.
Ponúka len základné operácie pre poèítanie v poli $GF({2}^{n})$ ako sèítanie, odèítanie, delenie a násobenie. \\
\mbox{\qquad } Pre niektoré projekty môe by ale táto kninica ideálnym riešením. 
Ak danı projekt nepotrebuje pokroèilejšie funkcie, poskytne mu táto kninica jednoduché a rıchle poèítanie v
koneènom poli $GF({2}^{n})$. Na GitHube bola v takıch projektoch nájdená táto kninica 446 krát.


\subsection { FLINT }
Kninica FLINT~\cite{Flint} je napísaná v jazyku C a môe by šírená pod¾a pravidiel licencie GPL v2+.
Je zameraná na teóriu èísel. \\
Vie pracova napríklad s:

\begin{itemize}
	\item racionálnymi a celımi èíslami neobmedzenej dåky
	\item P-adickımi èíslami a celımi èíslami modulo $n$
	\item koneènımi poliami
	\item reálnymi a komplexnımi èíslami.
  \end{itemize} 

\mbox{\qquad } Vïaka svojej funkcionalite je táto kninica zaujímavá pre rôzne matematické projekty.
Bola napríklad vyuitá pre vıskumy nároènıch problémov z teórie èísel. Taktie ju vyuíva matematickı 
software Sage a pracuje sa aj na jej zapracovaní do projektov Singular a Macaulay2. 


\subsection { MPFQ }
Ïalšou zaujímavou kninicou je projekt MPFQ~\cite{MPFQ} napísanı v jazyku Perl, ktorı bol vyvinutı pre rıchlu 
aritmetiku nad koneènımi poliami. Hlavnım cie¾om vıvojárov tejto kninice je poskytova aritmetiku pre 
Galoisove polia $GF(2^n)$ a $GF(p)$, kde $p$ je prvoèíslo. V zdrojovıch kódoch projektov na GitHube bolo
pouitie kninice MPFQ zaznamenané 908 krát.


\subsection { Bouncy Castle }
Kninica Bouncy Castle ~\cite{BouncyCastle} je vyvíjaná austrálskou skupinou programátorov Legion of the Bouncy Castle Inc.
Je to kryptografická kninica licencovaná pod¾a pravidiel: MIT license.
Väèšina tejto kninice ja napísaná v programovacom jazyku Java, niektoré jej èasti sú prepísané aj do jazyka C\#.  
Jedná sa o nástroj urèenı najmä pre kryptografiu. Obsahuje mnostvo symetrickıch a asymetrickıch šifrovacích
algoritmov a pridáva aj niektoré svoje vlastné, ako napríklad IDEA. \\
\mbox{\qquad }  Vıpoèty mnohıch algoritmov tejto kninice prebiehajú v koneènıch poliach. 
Pre tieto úèely disponuje kninica Bouncy Castle balíkom linearalgebra, ktorı ponúka jednu z mála dobrıch
implementácií poèítania v koneènıch poliach pre jazyk Java. Obsahuje triedy pre poèítanie
s prvkami, s maticami, s vektormi a s polynómami v koneènıch poliach. Ve¾kos prvkov koneèného po¾a nie je
obmedzená a pri práci s tımto balíkom je moné zvoli si, akım spôsobom budú reprezentované prvky po¾a.
Poèet funkcií pre matematické štruktúry je menej rozsiahly, ako napríklad pri kninici NTL.
Je tu implementovaná len taká funkcionalita, aká je potrebná pre ostatné balíky tejto kninice.
Vïaka dobrému objektovému návrhu je ale balík linearalgebra ve¾mi dobre škálovatelnı a môe by naïalej rozširovanı. \\
\mbox{\qquad } Nevıhodou tohto balíka je, e pri práci s ním môe by potrebné zasahova priamo do
jeho kódu. Jeho objektovı návrh toti nepovoluje prístup k niektorım metódam, ktoré by mohli by uitoèné.
Ako verejné sú oznaèené len tie metódy, ktoré sú priamo vyuívané ostatnımi súèasami kninice.
Pri jeho samostatnom pouití je ale tento princíp silného zapúzdrenia kontraproduktívny a núti tak programátora meni
jednotlivé špecifikátory prístupu. Jedná sa napríklad o jeden z konštruktorov triedy GF2mMatrix a GF2nPolynomial, metódy na
h¾adanie koreòov polynómov, metódy na redukciu polynómov, metódy na náhodné h¾adanie ireducibilnıch polynómov a mnoho
ïa¾ších.	\\
\mbox{\qquad } Kninica Bouncy Castle pozostáva z nieko¾kıch modulov, ktoré sú rozdelené do rôznych balíkov.
Pre poèítanie v koneènıch poliach staèí vyui balík linearalgebra. Ten nie je závislı od ostatnıch
èastí kninice, preto môe by pouitı samostatne. Jeho pouitie je jednoduché a tak ako zvyok kninice
Bouncy Castle je dobre zdokumentovanı vo forme Javadoc-ovıch komentárov. Vo vısledkoch vyh¾adávania na
GitHube bola kninica Bouncy Castle nájdená 124 275 krát.



\subsection { Apache Commons Math }
Apache Commons Math ~\cite{Apache} je projekt, ktorı sa snaí zdruova malé, ¾ahko integrovatelné matematické komponenty pre jazyk Java.
Všetky produkty tohto balíka sú implicitne licencované pod licenciou: Apache License, Version 2.0.	\\
\mbox{\qquad } Súèasou kninice Apache Commons Math sú rozhrania, ktoré definujú, ako by malo v tejto kninici vyzera
poèítanie v koneènıch poliach. Mnostvo ïalších tried a rozhraní tejto kninice s nimi pracuje pod¾a tejto definície.
Samotná implementácia poèítania v koneènıch poliach ale nie je súèasou Apache Commons Math. Preto je pre poèítanie v koneènıch poliach
nutné do tejto kninice doplni mnostvo ïalšieho kódu, ktorı bude implementova na to urèené rozhrania. Vlastnú implementácia
pridanıch tried, ako aj reprezentáciu prvkov po¾a si u autor môe zvoli sám.	\\
\mbox{\qquad } Kninica Apache Commons Math obsahuje mnostvo uitoènıch komponent, ktoré nie sú súèasou štandardnej 
kninice jazyka Java. Po pridaní vlastného kódu je pouitelná aj pre poèítanie v koneènıch poliach.
Je vhodná najmä do projektov, ktorıch autori si chcú prispôsobi implementáciu pod¾a seba. 
Kninica Apache Commons Math to umoòuje vïaka vyuitiu mnostva rozhraní a generickıch typov.
Ak nám ale na poèítanie v koneènıch poliach postaèuje hotová funkcionalita inej dostupnej kninice a nezaujíma nás jej implementácia, 
nie je Apache Commons Math tá ideálna vo¾ba. 	\\
\mbox{\qquad } Celkovo sa ale jedná o jednu z najpouívanejších kniníc na podporu matematickıch vıpoètov pre projekty v jazyku Java.
Vo vıh¾adávaní na GitHube bola kninica Apache Commons Math zaznamenaná a 286 194 krát.




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Chapter 2 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter {AES}
\label{chap:ChapAes}
Súèasou tejto bakalárskej práce bola aj implementácia symetrického
šifrovacieho algoritmu AES (Advanced Encryption Standard), ktorı
vykonáva niektoré operácie v koneènom poli $GF({2}^{n})$.
Táto kapitola obsahuje základné informácie o tomto
algoritme. Èiastoène je tu popísaná história tohto algoritmu a motivácia
pre vznik nového šifrovacieho štandardu. Ïalej sa táto kapitola venuje
popisu krokov potrebnıch pre šifrovanie a dešifrovanie, rôznym dåkam
šifrovacieho klúèa a taktie jeho expanzii vykonávanej v algoritme AES.


\section {História}
V 70, rokoch minulého storoèia zaèala v USA vznika poiadavka na vznik národného 
šifrovacieho štandardu. Algoritmus mal by dostupnı pre širokú verejnos a súkromnı sektor. 
Spoloènos IBM vtedy vyvinula algoritmus DES (Data Encryption Standard), ktorı 
spåòal potrebné poiadavky. Americká organizácia NIST(National Institute of Standards and Technology) následne
v roku 1976 vyhlásila tento algoritmus za národnı šifrovací štandard. DES sa tak stal prvım
široko rozšírenım šifrovacím algoritmom ~\cite{SANSInstitute}. \\

\mbox{\qquad } Koncom 20. storoèia u ale bolo známych nieko¾ko útokov, ktoré dokázali tento algoritmus
efektívne prelomi s relatívne nízkymi nákladmi. Aj preto vznikla potreba vyvinú algoritmus,
ktorı by bol schopnı takımto útokom odola. V roku 1997 vyhlásila organizácia NIST verejnú súa 
na novı šifrovací algoritmus pod názvom AES. 
Po dôkladnom testovaní vyhral túto súa algoritmus Rijndael vyvinutı belgickımi
kryptológmi Vincentom Rijmenom a Joanom Daemenom. Dnes je Rijndael povaovanı za spolahlivı
šifrovací štandard schopnı spåòa aktuálne bezpeènostné poiadavky ~\cite{AESSpringer1}. 

\section {Popis algoritmu AES}
Algoritmus AES je symetrickı blokovı šifrovací algoritmus. Vyuíva k¾úèe velkosti 128, 192, alebo 256 bitov.
Keïe sa jedná o symetrickı šifrovací algoritmus, na šifrovanie aj dešifrovanie je pouitı ten istı k¾úè.
Vstupné aj vıstupné dáta tohto algoritmu sú bloky dát ve¾kosti 128 bitov. Tieto bloky sú organizované v matici
bajtov ve¾kosti 4x4, ktorej hovoríme State Array. Algoritmus AES spracúva kadı blok dát v tzv. rundách 
(z anglického rounds). Poèet rúnd je 10, 12, alebo 14 v závislosti od dåky pouitého k¾uèa~\cite{AESSpringer2}.
Obrázok ~\ref{fig:AesBasic} graficky znázoròuje proces šifrovania a dešifrovania algoritmom AES. Všetky znázornené operácie
sú v tejto kapitole vysvetlené. 
 
\begin{figure}[!htb]
\centering
\includegraphics[width=140mm]{AESGraf.jpg}
\caption{Šifrovanie a dešifrovanie algoritmom AES ~\cite{AesGraf}.}
\label{fig:AesBasic}
\end{figure} 


\section {Expanzia klúèa} 
Pri spracovaní bloku dát v rundách si algoritmus AES vytvára jedineènı k¾úè pre kadú rundu. Expanzia k¾úèa
(z anglického Key expansion) je proces, pri ktorom sa z pôvodného šifrovacieho k¾úèa vytvoria rundové k¾úèe pre
všetky rundy. Expanzia k¾úèa pracuje so slovami dåky 4 bajty a kadı rundovı k¾úè je tvorenı zo 4 takıch slov.

\begin{figure}[H]
\centering
\includegraphics[width=130mm]{KeyExpansion.jpg}
\caption{Ukáka expanzie k¾úèa pre rôzne dåky k¾úèov ~\cite{AesGraf}.}
\label{fig:AesKeyExpansion}
\end{figure} 

Na Obrázku ~\ref{fig:AesKeyExpansion} je znázornená expanzia k¾úèa pre rôzne dåky vstupného šifrovacieho k¾úèa. 
Vstupom pre zaèiatok vıpoètu rundovıch k¾úèov je pôvodnı šifrovací k¾úè. Všetky ïalšie kroky závisia na vıpoètoch
z predchádzajúceho kroku. V kadom kroku expanzie sa vygeneruje sekvencia slov ve¾kosti šifrovacieho k¾úèa.
Prvé slovo kadého kroku expanzie je vypoèítané aplikovaním tıchto funkcií:

\begin{enumerate}[noitemsep]
  \item Iniciálny stav pre nové slovo je vdy posledné slovo z predchadzajúceho kroku (prípadne zo šifrovacieho
  k¾úèa v prvom kroku). Toto slovo si oznaèíme ako ${w}$.
  
  \item Pre slovo ${w}$ sa vykoná operácia Rotácia slova (z anglického RotWord). Pri tejto operácií sa všetky bajty
  slova ${w}$ cyklicky posunú do¾ava tak, ako to je znázornené na Obrázku ~\ref{fig:RotWord}.
\end{enumerate}

\begin{figure}[H]
	\centering
	\includegraphics[width=90mm]{rotWord.jpg}
	\caption{Operácia RotWord.}
	\label{fig:RotWord}
\end{figure} 


\begin{enumerate}[noitemsep]
  \setcounter{enumi}{2}
  \item Na slovo ${w}$ sa aplikuje substitúcia slova (z anglického SubWord). Všetky bajty slova ${w}$ sú v tomto kroku 
	nahradené novımi bajtami pod¾a substituènej tabu¾ky ~S-Box\footnote{Spôsob vıpoètu substituènıch tabu¾iek
	je uvedenı v sekcii ~\ref{sec:SubstTables}}.
	
	\item Ïalej sa na slovo ${w}$ aplikuje operácia XOR so slovom z tabu¾ky Rcon. 
	V tejto tabu¾ke sú konštantné hodnoty a vyberajú sa pod¾a toho, v ktorom kroku expanzie sa práve nachádzame.
	
	\item Posledná èas získavania prvého slova aktuálneho kroku expanzie spoèíva v tom, e sa na slovo ${w}$ aplikuje 
	operácia XOR s prvım slovom predchádzajúceho kroku expanzie.
\end{enumerate}

\mbox{\qquad } Pre 128 a 192-bitovı k¾úè sa kadé ïalšie slovo ${w_i}$ aktuálneho kroku expanzie vypoèíta tak, 
e sa aplikuje operácia XOR na slovo ${w_i}$ z predchádzajúceho kroku so slovom ${w_{i-1}}$ aktuálneho kroku. Pre 256-bitovı
k¾úè je postup podobnı. Vınimkou je len slovo ${w_5}$, pri vıpoète ktorého sa v operácii XOR pouije namiesto slova ${w_{4}}$
aktuálneho kroku slovo SubWord(${w_{4}}$), teda je nahradené pod¾a tabulky S-Box. Celı tento postup je graficky znázornenı na
Obrázku ~\ref{fig:AesKeyExpansion} ~\cite{AESDoc}.

\section { AddRoundKey }
Operácia AddRoundKey (Pridanie rundového k¾úèa) je súèasou procesu šifrovania aj dešifrovania bloku. 
Najskôr je vdy potrebné vykona expanziu k¾úèa, ktoreh vıstupom sú rundové k¾úèe dåky 128 bitov pre kadú rundu šifrovania. 
Operácia AddRoundKey vykonáva operáciu XOR medzi príslušnım rundovım k¾úèom a šifrovanım blokom. Táto operácia
je jednoduchá a prebehne rıchlo. Zároveò ale ovplyvní kadı bajt vıslednej šifry~\cite{AESDoc2}.


\section { Šifrovanie }
Šifrovanie dát algoritmom AES sa vykonáva aplikovaním 4 operácií: SubBytes, ShiftRows, MixColumns a AddRoundKey.
Najskôr sa vykoná operácie XOR medzi vstupnım blokom a šifrovacím k¾úèom.
Následne sú tieto 4 operácie v nieko¾kıch rundách aplikované na vstupnı blok dát tak, ako to opisuje Obrázok 
~\ref{fig:AesBasic}~\cite{AESDoc}.

\subsection { SubBytes }
Prvım krokom kadej rundy je aplikovanie operácie SubBytes(Substitúcia bajtov). Ide o tú istú operáciu, ktorá bola vysvetlená u
pri expanzii k¾úèa. Kadı bajt bloku sa nahradí novım bajtom pod¾a substituènej tabu¾ky S-Box. Tabu¾ka S-Box 
je navrhnutá tak, aby touto substitúciou bola zabezpeèená nelineárnos vıslednej šifry. 
Po tejto operácii bude minimalizovaná korelácia medzi vstupnımi a vıstupnımi bajtami.
Cie¾om tohto kroku je zabráni známym
kryptoanalytickım útokom a zabezpeèi, aby sa vısledok šifrovania nedal popísa jednoduchou matematickou funkciou ~\cite{AESDoc2}. 

\subsection { ShiftRows }
Blok šifrovanıch dát je organizovanı v matici bajtov, ktorej hovoríme State Array. Operácia ShiftRows (Riadkovı posun) vykonáva 
jednoduchı cyklickı posun poslednıch 3 riadkov tejto matice tak, ako je to zobrazené na Obrázku ~\ref{fig:ShiftRows}. 
Tımto krokom sa bajty v State Array presunú do stavu, kedy kadı ståpec obsahuje jeden bajt z ostatnıch troch ståpcov.

\begin{figure}[H]
	\centering
	\includegraphics[width=90mm]{shiftRows.jpg}
	\caption{Operácia ShiftRows ~\cite{AESDoc}.}
	\label{fig:ShiftRows}
\end{figure} 


\subsection { MixColumns }
Operácia MixColumns (Miešanie ståpcov) vyuíva na šifrovanie aritmetiku koneènıch polí. State Array šifrovaného bloku je v tejto
operácií transformovanı tak, e kadı bajt ståpca sa stane funkciou všetkıch bajtov v príslušnom ståpci vstupného bloku. 
Táto transformácia je vykonaná násobením matíc v koneènom poli GF(${2}^{8}$) s redukènım polynómom 
${x}^{8} + {x}^{4} + {x}^{3} + {x} + 1$ ~\cite{AESDoc2}:

\begin{center}
$$
\stackrel{\mbox{Novı State Array}}{
\begin{pmatrix}
  &{s'}_{0,0} & {s'}_{0,1} & {s'}_{0,2} & {s'}_{0,3} \\
  &{s'}_{1,0} & {s'}_{1,1} & {s'}_{1,2} & {s'}_{1,3} \\
  &{s'}_{2,0} & {s'}_{2,1} & {s'}_{2,2} & {s'}_{2,3} \\
  &{s'}_{3,0} & {s'}_{3,1} & {s'}_{3,2} & {s'}_{3,3} \\
 \end{pmatrix}
 }
 =
\begin{pmatrix}
  02 & 03 & 01 & 01 \\
  01 & 02 & 03 & 01 \\
  01 & 01 & 02 & 03 \\
  03 & 01 & 01 & 02 \\
 \end{pmatrix}
 \times
 \stackrel{\mbox{State Array}}{
 \begin{pmatrix}
  {s}_{0,0} & {s}_{0,1} & {s}_{0,2} & {s}_{0,3} \\
  {s}_{1,0} & {s}_{1,1} & {s}_{1,2} & {s}_{1,3} \\
  {s}_{2,0} & {s}_{2,1} & {s}_{2,2} & {s}_{2,3} \\
  {s}_{3,0} & {s}_{3,1} & {s}_{3,2} & {s}_{3,3} \\
 \end{pmatrix}
 }
$$
\end{center}
 
\section { Dešifrovanie }
Dešifrovanie dát algoritmom AES prebieha podobne ako šifrovanie. 
Najskôr sa vykoná operácia XOR medzi vstupnım blokom a šifrovacím k¾úèom.
Potom sú postupne v nieko¾kıch rundách aplikované tieto 4 operácie: InvShiftRows, InvSubBytes, AddRoundKey, InvMixColumns.
Celı tento postup je znázornenı na Obrázku ~\ref{fig:AesBasic}~\cite{AESDoc}.


\subsection { InvSubBytes }
InvSubBytes(Inverzná substitúcia bajtov) je inverzná operácia k operácii SubBytes. Tak ako v operácii SubBytes,
aj tu prebieha substitúcia kadého bajtu šifrovaného bloku novım bajtom. Tu sa bajty nahrádzajú pod¾a tabu¾ky
S-Box pre inverznú substitúciu ~\cite{AESDoc}.


\subsection { InvShiftRows }
Inverzná operácia k operácii ShiftRows, podobne ako operácia ShiftRows, vykonáva jednoduchı cyklickı posun poslednıch 3 
riadkov State Array. Tu sa riadky posúvajú o rovnakú hodnotu, ale opaènım smerom, doprava ~\cite{AESDoc}. 


\subsection { InvMixColumns }
Operácia MixColumns (Inverzné miešanie ståpcov) transformuje kadı bajt ståpca State Array na novú hodnotu, ktorá je funkciou
všetkıch bajtov príslušného ståpca. Postup je rovnakı ako v operácii MixColumns, jedná sa o násobenie matíc s prvkami v
GF(${2}^{8}$) s redukènım polynómom ${x}^{8} + {x}^{4} + {x}^{3} + {x} + 1$. Rozdiel je len v matici,
ktorá násobí State Array ~\cite{AESDoc}:
\begin{center}
$$
\stackrel{\mbox{Novı State Array}}{
\begin{pmatrix}
  &{s'}_{0,0} & {s'}_{0,1} & {s'}_{0,2} & {s'}_{0,3} \\
  &{s'}_{1,0} & {s'}_{1,1} & {s'}_{1,2} & {s'}_{1,3} \\
  &{s'}_{2,0} & {s'}_{2,1} & {s'}_{2,2} & {s'}_{2,3} \\
  &{s'}_{3,0} & {s'}_{3,1} & {s'}_{3,2} & {s'}_{3,3} \\
 \end{pmatrix}
 }
 =
\begin{pmatrix}
  0E & 0B & 0D & 09 \\
  09 & 0E & 0B & 0D \\
  0D & 09 & 0E & 0B \\
  0B & 0D & 09 & 0E \\
 \end{pmatrix}
 \times
 \stackrel{\mbox{State Array}}{
 \begin{pmatrix}
  {s}_{0,0} & {s}_{0,1} & {s}_{0,2} & {s}_{0,3} \\
  {s}_{1,0} & {s}_{1,1} & {s}_{1,2} & {s}_{1,3} \\
  {s}_{2,0} & {s}_{2,1} & {s}_{2,2} & {s}_{2,3} \\
  {s}_{3,0} & {s}_{3,1} & {s}_{3,2} & {s}_{3,3} \\
 \end{pmatrix}
 }
$$
\end{center}


\section {Substituèné tabu¾ky}
\label{sec:SubstTables}
Niektoré operácie algoritmu AES nahrádzajú bajty blokov a k¾úèov pod¾a na to urèenıch substituènıch tabuliek.
Táto sekcia opisuje vıpoèet tıchto tabuliek.
\begin{itemize}

 \item \textbf{ Rcon: }  \\
 Tabu¾ku Rcon vyuíva algoritmus AES pri expanzii k¾úèa a pre kadı bajt $e \in GF({2}^{8})$ je
 jeho substituovaná hodnota $s \in GF({2}^{8})$ vypoèítaná ako: 	\\
 \begin{center}
 $s = {x}^{(e-1)} \ mod \ {x}^{8} + {x}^{4} + {x}^{3} + x + 1$
 \end{center}

\item \textbf{ S-box: }  \\
S-box je substituèná tabu¾ka, ktorú algoritmus AES vyuíva pri expanzii k¾úèa a v operácii SubBytes.
Pre kadı substituovanı bajt je jej vıpoèet nasledujúci:	\\
\begin{center}
$$
\begin{pmatrix}
  z_0 \\
  z_1 \\
  z_2 \\
  z_3 \\
  z_4 \\
  z_5 \\
  z_6 \\
  z_7 \\
 \end{pmatrix}
 =
\begin{pmatrix}
  1 & 0 & 0 & 0 & 1 & 1 & 1 & 1\\
  1 & 1 & 0 & 0 & 0 & 1 & 1 & 1\\
  1 & 1 & 1 & 0 & 0 & 0 & 1 & 1\\
  1 & 1 & 1 & 1 & 0 & 0 & 0 & 1\\
  1 & 1 & 1 & 1 & 1 & 0 & 0 & 0\\
  0 & 1 & 1 & 1 & 1 & 1 & 0 & 0\\
  0 & 0 & 1 & 1 & 1 & 1 & 1 & 0\\
  0 & 0 & 0 & 1 & 1 & 1 & 1 & 1\\
 \end{pmatrix}
 \times
 \begin{pmatrix}
  x_0 \\
  x_1 \\
  x_2 \\
  x_3 \\
  x_4 \\
  x_5 \\
  x_6 \\
  x_7 \\
 \end{pmatrix}
 +
 \begin{pmatrix}
  1 \\
  1 \\
  0 \\
  0 \\
  0 \\
  1 \\
  1 \\
  0 \\
 \end{pmatrix}
 $$
 \end{center}
 kde:	\\
 Všetky vıpoèty prebiehajú v koneènom poli $GF({2}^{8})$ s redukènım polynómom 
 ${x}^{8} + {x}^{4} + {x}^{3} + x + 1$.	\\
 $[{x}_{0}, ..., {x}_{7}]$ sú koeficienty polynomiálnej reprezentácie prvku $x \in GF({2}^{8})$.
 Prvok $x$ je inverznı k bajtu, ktorı chceme substituova.	\\
 $[{z}_{0}, ..., {z}_{7}]$ sú koeficienty polynomiálnej reprezentácie vısledného bajtu.
 
 
\item \textbf{ Inverznı S-box: }  \\
 Inverznı S-box je substituèná tabu¾ka vyuívaná v operácii InvSubBytes.
 Vıpoèet pre kadı substituovanı bajt je nasledujúci:	\\
\begin{center}
$$
\begin{pmatrix}
  z_0 \\
  z_1 \\
  z_2 \\
  z_3 \\
  z_4 \\
  z_5 \\
  z_6 \\
  z_7 \\
 \end{pmatrix}
 =
\begin{pmatrix}
  0 & 0 & 1 & 0 & 0 & 1 & 0 & 1\\
  1 & 0 & 0 & 1 & 0 & 0 & 1 & 0\\
  0 & 1 & 0 & 0 & 1 & 0 & 0 & 1\\
  1 & 0 & 1 & 0 & 0 & 1 & 0 & 0\\
  0 & 1 & 0 & 1 & 0 & 0 & 1 & 0\\
  0 & 0 & 1 & 0 & 1 & 0 & 0 & 1\\
  1 & 0 & 0 & 1 & 0 & 1 & 0 & 0\\
  0 & 1 & 0 & 0 & 1 & 0 & 1 & 0\\
 \end{pmatrix}
 \times
 \begin{pmatrix}
  x_0 \\
  x_1 \\
  x_2 \\
  x_3 \\
  x_4 \\
  x_5 \\
  x_6 \\
  x_7 \\
 \end{pmatrix}
 +
 \begin{pmatrix}
  1 \\
  0 \\
  1 \\
  0 \\
  0 \\
  0 \\
  0 \\
  0 \\
 \end{pmatrix}
 $$
 \end{center}
 kde:	\\
 Všetky vıpoèty prebiehajú v koneènom poli $GF({2}^{8})$ s redukènım polynómom 
 ${x}^{8} + {x}^{4} + {x}^{3} + x + 1$.	\\
 $[{x}_{0}, ..., {x}_{7}]$ sú koeficienty polynomiálnej reprezentácie prvku $x \in GF({2}^{8})$.
 Prvok $x$ je inverznı k bajtu, ktorı chceme substituova.	\\
 $[{z}_{0}, ..., {z}_{7}]$ sú koeficienty polynomiálnej reprezentácie vısledného bajtu.


\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Chapter 3 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\chapter { Implementácia }
\label{chap:ChapImpl}
Táto kapitola sa venuje implementaènej èasti tejto práce. Jej cie¾om bolo v jazyku Java navrhnú a implementova kninicu 
pre poèítanie v koneènıch poliach. Ako praktická aplikácia kninice bol implementovanı
symetrickı šifrovací algoritmus AES vyuívajúci funkcionalitu tejto kninice. \\
\mbox{\qquad } Na vıvoj vıslednej aplikácie bolo pouité vıvojové prostredie Netbeans\footnote{https://netbeans.org/}
a celı jej zdrojovı kód bol zdokumentovanı formou Javadoc-ovıch komentárov.
Poèas celého vıvoja boli jednotlivé revízie aplikácie verzované v systéme 
GitHub\footnote{sú dostupné na adrese: https://github.com/XLipcak/Computation-with-finite-fields}.
V tejto èasti je predstavenı návrh, algoritmy a postupy vyuité pri implementácii vıslednej aplikácie. 

\section { Kninica pre poèítanie v $GF({2}^{n})$ }
Hlavnım cie¾om praktickej èasti tejto bakalárskej práce bolo implementova funkcionalitu pre poèítanie s prvkami v $GF({2}^{n})$,
s vektormi s prvkami v $GF({2}^{n})$, s polynómami s prvkami v $GF({2}^{n})$, a taktie s maticami s prvkami v $GF({2}^{n})$.
Ku kadej tejto štruktúre bolo implementovanıch nieko¾ko funkcií pre poèítanie s nimi. V nasledujúcej èasti budú tieto
funkcie vymenované, niektoré z nich aj detailnejšie popísané. Ako inšpirácia pre túto kninicu slúila kninica NTL. Metódy
sú preto navrhnuté tak, aby ich vıstupy boli totoné s vıstupmi podobnıch metód kninice NTL.	\\
\mbox{\qquad } Kninica pre poèítanie v $GF({2}^{n})$ je v mojom projekte súèasou balíka gf2n. Obsahuje triedy,
rozhrania a vınimky rozdelené do ïalších samostatnıch balíkov. Na chybové vstupy kninica reaguje
pomocou vınimiek. Má definované svoje vlastné vınimky. Ich podoba bola inšpirovaná kninicou Apache Commons Math.


\subsection { Diagram tried } 
Pre kninicu pre poèítanie v koneènıch poliach bol vytvorenı diagram tried v jazyku UML pomocou nástroja
yEd Graph Editor\footnote{http://www.yworks.com/en/index.html}.

\begin{figure}[H]
	\centering
	\includegraphics[width=150mm]{ClassDiagram.jpg}
	\caption{UML diagram tried.}
	\label{fig:Class}
\end{figure} 


\subsection { Poèítanie s prvkami v $GF({2}^{n})$ } 
Pre poèítanie s prvkami v $GF({2}^{n})$ bola navrhnutá trieda GF2N. Táto trieda implementuje rozhranie GaloisFieldArithmetic,
ktoré špecifikuje poskytovanú funkcionalitu tejto kninice pre poèítanie s prvkami v $GF({2}^{n})$. \\
\mbox{\qquad } Pre poèítanie s prvkami 
v $GF({2}^{n})$ je najskôr potrebné vytvori objekt triedy GF2N. V konštruktore musí by špecifikovanı redukènı polynóm pre koneèné
pole, v ktorom chceme poèíta. Pre polynóm stupòa ${n}$ sa vytvorí pole GF(${2}^{n-1}$). Kadı prvok po¾a, ako aj jeho redukènı
polynóm, je reprezentovanı primitívnym dátovım typom Long.	\\
Trieda GF2N disponuje nasledujúcimi funkciami: \\

\begin{enumerate}
  \item \textbf{Sèítanie a odèítanie: } \\
  Pre polia $GF({2}^{n})$ sú tieto operácie totoné a sú implementované ako jednoduchı bitovı XOR.
  
  \item \textbf{Násobenie: } \\
  Vyuíva bitové posuny na násobenie v poli a bitovı XOR na delenie redukènım polynómom.

   \item \textbf{Umocòovanie prvku: } \\
   Na poèítanie mocnín prvku bol zvolenı algoritmus 
   Square and Multiply~\cite{Square}. Ten pri vıpoète prvku ${x}^{{2}^{n}-2}$ vyuíva nasledujúci rozklad: 
   
   \begin{center}
     ${x}^{{2}^{n}-2}$ $=$ ${x}^{{2}({2}^{n-1}-1)}$ $=$ $(x^{(2^{n-1}-1)})^{2}$		
	 $=$ $(x^{(2^{n-1}-2+1)})^{2}$ \\ 
	 $=$ $(x \times x^{(2^{n-1}-2)})^{2}$
	 $=$ $(x \times x^{2(2^{n-2}-1)})^{2}$ $=$ $(x \times (x^{(2^{n-2}-1)})^{2})^{2}$
	 \\ 
	 ··· \\
	 $=$ $(x \times (x \times (x \times (...x \times (x \times x^{2})^{2}...)^{2}$
    \end{center}
	
	\mbox{\qquad } Tento spôsob vıznamne zrıchli vıpoèet mocniny prvku. Pri vıpoète ${x}^{{2}^{n}-2}$ nie je
	volané násobenie ${{2}^{n}-3}$ krát. Namiesto toho staèí vypoèíta najviac ${n-1}$ krát
	druhú mocninu a ${n-2}$ krát násobenie prvkov. Pri ve¾kıch exponentoch je tento spôsob
	mnohonásobne rıchlejší.
	
	\item \textbf{Delenie: } \\
    Vyuíva implementáciu násobenia a inverzie prvku.
  
   \item \textbf{Inverzia prvku: } \\
   Poèas vıvoja aplikácie bola inverzia poèítaná
   viacerımi spôsobmi. Najskôr bola vyuitá vlastnos, e pre kadı prvok ${x} \in GF({2}^{n})$ platí~\cite{FiniteFieldWolfram}: 
   \begin{align*}
     {x}^{-1} = {x}^{{2}^{n}-2}. 
   \end{align*}
   Pri tomto spôsobe bolo potrebné mnohonásobné
   umocòovanie daného prvku. To pôvodne prebiehalo štandardnım násobením, neskôr rıchlejšie vïaka 
   implementácii algoritmu Square and Multiply. V súèasnej verzii vyuíva kninica na nájdenie inverzného prvku
   Rozšírenı Euklidov algoritmus. \\
   \mbox{\qquad } Tabu¾ka ~\ref{tab:inverse} zobrazuje èasovú nároènos tıchto algoritmov.
   Na testovanie boli pouité koneèné polia $GF(2^{10})$, $GF(2^{30})$ a $GF(2^{60})$. Pre kadé z nich bola h¾adaná
   inverzia náhodnıch prvkov 100 000 krát. Vısledky meraní sú v tabu¾ke zobrazené v sekundách.
   
\begin {table}[H]
\centering
\caption {Rıchlostné porovnanie algoritmov pri h¾adaní inverzie v $GF{2}^{n}$.}
\label{tab:inverse}
\begin{tabular}{ |c|c|c|c| }
\hline
Redukènı polynóm &  $x + 1$ & ${x}^{30} + x + 1$ & ${x}^{60} + x + 1$  \\
\hline
Štandardné násobenie & $ 11,1 $ & $ N/A $ & $ N/A $   \\
\hline
Square and Multiply & $ 0,21 $ & $ 4,23 $ & $ 41,36 $   \\
\hline
Rozšírenı Euklidov algoritmus & $ 0,14 $ & $ 0,34 $ & $ 0,83 $   \\
\hline
\end{tabular}
\end {table}

	\mbox{\qquad } Z tıchto údajov je vidie, e Rozšírenı Euklidov algoritmus je vhodnı pre poèítanie
	inverzie prvkov koneèného po¾a. Pri h¾adaní inverzie umocòovaním vıpoèetnı èas so zväèšujúcou sa
	ve¾kosou po¾a prudko stúpa. Algoritmus Square and Multiply	je vırazne pomalší a algoritmus poèítania
	štandardnım násobením je s èasovou zloitosou \textrm O$(2^{n})$ pre väèšie polia
	v praxi nepouitelnı.
   
   \item \textbf{Testovanie ireducibility polynómov: } \\
   Pri vytváraní koneèného po¾a $GF({2}^{n})$ je potrebné špecifikova ireducibilnı polynóm pre dané pole.
   Trieda GF2N preto ponúka statickú metódu na test ireducibility polynómu s koeficientami v GF(${2}$). 
   Na tento test je pouitá metóda Rabínov test ireducibility~\cite{Irreducible}, ktorá hovorí: 
   
   \textbf{Veta 4.1.1} \emph{(Rabínov test ireducibility)}.
	Polynóm $f(x)$ s prvkami v GF(${2}$) stupòa $n$ je ireducibilnı len vtedy, ak platí:
   \begin{align*}
		gcd(f(x), x^{2^{{n}/{p_{i}}}} - x) = 1
		\intertext{pre $1 \leq i \leq n$, kde $p_{1}, ..., p_{n}$ sú prvoèíselné delitele èísla $n$.}
		\intertext{Zároveò musí plati:}
		 x^{2^{n}} - x \equiv 0 \ mod \ f.
	\end{align*}
	 
\end{enumerate}



\subsection { Poèítanie s polynómami s prvkami v $GF({2}^{n})$ } 
Pre poèítanie s polynómami s prvkami v $GF({2}^{n})$ bola navrhnutá trieda PolynomialGF2N. Jej verejné metódy
sú popísané rozhraním GaloisFieldPolynomialArithmetic, ktoré je touto triedou implementované. Táto trieda pracuje
s objektami typu Polynomial, ktoré slúia na objektovú reprezentáciu polynómov. Trieda PolynomialGF2N poskytuje
nasledujúce funkcie: 

\begin{enumerate}
  \item \textbf{Sèítanie a odèítanie: } \\
  
  \item \textbf{Násobenie a delenie: } \\
  Násobenie a delenie polynómov. Delenie je moné aj so získaním zvyšku po delení.
  
  \item \textbf{Najväèší spoloènı delite¾: } \\
   Trieda PolynomialGF2N poskytuje metódu gcd (skratka z anglického greatest common divisor), ktorá slúi na
   vıpoèet najväèšieho spoloèného delite¾a dvoch polynómov. Pri vıpoète je pouitı
   Euklidov algoritmus, ktorı vısledok získava postupnım delením polynómov a ich zvykov.
   
   \item \textbf{Inverzia polynómu: } \\
   Pre vıpoèet inverzného polynómu s prvkami v poli $GF({2}^{n})$ je potrebné špecifikova 2 polynómy.
   Polynóm $f(x)$ stupòa $n$, pre ktorı chceme spoèíta inverziu. Taktie je potrebné špecifikova polynóm $m(x)$
   stupòa aspoò $n + 1$, modulo ktorı budeme inverznı polynóm poèíta. H¾adáme teda polynóm ${f}^{-1}$, pre
   ktorı platí: 
    \begin{align*}
		(f(x) \cdot {f(x)}^{-1}) mod \ m(x) = 1.
	\end{align*}
	\mbox{\qquad } Na tento vıpoèet je pouitı Rozšírenı Euklidov algoritmus. 
   
   \item \textbf{Umocòovanie.} \\
   Je implementované pomocou algoritmu Square and Multiply.
   
\end{enumerate}



\subsection { Poèítanie s vektormi s prvkami v $GF({2}^{n})$ } 
S vektormi v koneènıch poliach v tejto kninici poèíta trieda VectorGF2N implementujúca rozhranie GaloisFieldVectorArithmetic. 
Na objektovú reprezentáciu vektorov bola vytvorená trieda Vector. Pre poèítanie s vektormi sú implementované nasledujúce funkcie:
\begin{enumerate}
  \item \textbf{Sèítanie.} 
  \item \textbf{Odèítanie.}
  \item \textbf{Násobenie skalárom.} 
\end{enumerate}



\subsection { Poèítanie s maticami s prvkami v $GF({2}^{n})$ }
Na poèítanie s maticami s prvkami v $GF({2}^{n})$ bola vytvorená trieda \\ MatrixGF2N. Táto trieda poèíta s objektami typu Matrix
a implementuje rozhranie GaloisFieldMatrixArithmetic, súèasou ktorého sú nasledujúce funkcie: 
\begin{enumerate}
  \item \textbf{Sèítanie a odèítanie.} 
  
  \item \textbf{Násobenie: }	\\
  Implementované je násobenie matíc maticami, násobenie matíc vektormi, a taktie násobenie matíc skalárnymi hodnotami.
  
  \item \textbf{Inverzia: }  \\
  Vıpoèet inverznej matice prebieha postupnımi transformáciami riadkov pôvodnej matice, ktoré sú aplikované aj na k nej 
  vytvorenú jednotkovú maticu. Pôvodná matica je postupne upravovaná na jednotkovú maticu, zatia¾ èo z jednotkovej matice
  vznikne vısledná inverzná matica.
  
  \item \textbf{Determinant: }  \\
  Implementácia vıpoètu determinantu matíc vyuíva Laplaceov rozvoj~\cite{Laplace}. Ten hovorí, e pre maticu $n \times n$ sa jej determinant
  dá vypoèíta ako: \\
  
  \begin{align*}
     \det A = \sum\limits_{j=1}^n {(-1)^{i+j} a_{i,j} C_{i,j}}	
  \end{align*}
  kde:	\\
  ${i}$ je index ¾ubovolne zvoleného riadku(alebo ståpca), pod¾a ktorého budeme rozvoj poèíta.	\\
  ${j}$ je index ståpca (ak poèítame rozvoj pod¾a riadku) alebo riadku (ak poèítame rozvoj pod¾a ståpca).	\\
  $a_{i,j}$ je prvok matice urèenı indexami ${i}$ a ${j}$.	\\
  $C_{i,j}$ je kofaktor matice, teda determinant matice bez riadku a ståpca, na ktorom sa nachádza prvok $a_{i,j}$.  
  
  \mbox{\qquad } Metóda triedy MatrixGF2N na vıpoèet determinantu vyuíva Laplaceov rozvoj pod¾a prvého riadku matice.
  
  \item \textbf{Gaussova eliminácia: }  \\
  Trieda MatrixGF2N ponúka metódu, ktorá pre vstupnú maticu vykoná Gaussovu elimináciu. Cie¾om Gaussovej eliminácie je
  upravi vstupnú maticu do tzv. stupòovitého riadkového tvaru (z anglického row echelon form)~\cite{Echelon}, pre ktorı platí:
  \begin{enumerate}  
	\item Všetky nulové riadky sú na spodku matice.
	\item Pivot kadého riadku matice je napravo od pivota riadku nad ním.
	\item Pivot kadého nenulového riadku je 1.
	\item Ståpec pod pivotom kadého riadku je nulovı.
  \end{enumerate}
  \mbox{\qquad } Aby boli vısledky mojej kninice totoné s kninicou NTL, je v mojej implementácii vynechanı bod (c).

  \item \textbf{Riešenie lineárneho systému rovníc: }  \\
   Trieda MatrixGF2N ponúka implementáciu riešenia lineárneho systému rovníc v koneènom poli $GF({2}^{n})$.
   Pre maticu ${A}$ a vektor ${y}$ h¾adáme vektor ${x}$ tak, aby platilo: 
   \begin{align*}
     A \cdot x = y.
  \end{align*}
  
  \item \textbf{Hodnos: }  \\
  Vıpoèet poètu lineárne nezávislıch riadkov v matici.
  
  \item \textbf{Jadro: }  \\
  Vısledkom metódy kernel pre vıpoèet jadra matice v triede MatrixGF2N je matica, 
  ktorej súèin so vstupnou maticou vráti nulovú maticu.
  
  
  \item \textbf{Obraz.}  \\
  Vısledkom metódy image pre vıpoèet obrazu matice v triede MatrixGF2N je matica v stupòovitom riadkovom tvare, 
  ktorá je vypoèítaná ako báza vektorového priestoru vstupnej matice.
  
  \item \textbf{Umocòovanie.}  \\
  Je implementované pomocou algoritmu Square and Multiply.

\end{enumerate}

\subsection { Ukáka kódu }
Pre lepšiu predstavu o pouívaní vytvorenej kninice obsahuje táto èas krátku ukáku kódu.
Je to metóda main, ktorá slúi ako ukáka poèítania s prvkami, s polynómami a s maticami 
v koneènıch poliach pomocou mojej kninice. Za òou nasleduje aj textovı vıstup tohto kódu.

\begin{lstlisting}

    public static void main(String[] args) {

        Random rn = new Random();

        // Poèítanie s prvkami v koneènom poli.
        // Redukènı polynóm: X^10 + X^3 + 1 .
        long irreduciblePolynomial = 1033;
        GF2N galoisField = new GF2N(irreduciblePolynomial);

        // Náhodné prvky po¾a.
        long element1 = rn.nextInt(1024);
        long element2 = rn.nextInt(1024);
        
        System.out.println(element1 + " + " + element2 + " = " + 
                galoisField.add(element1, element2));
        System.out.println(element1 + " * " + element2 + " = " + 
                galoisField.multiply(element1, element2) + "\n");
 
        
        // Poèítanie s polynómami s prvkami v koneènom poli.
        PolynomialGF2N polyGf = new PolynomialGF2N(galoisField);
        
        // Náhodné polynómy s koeficientami v našom poli. Sú stupòa 5 a 2.
        Polynomial polynomial1 = new Polynomial(5, galoisField.getFieldSize());
        Polynomial polynomial2 = new Polynomial(3, galoisField.getFieldSize());
        
        System.out.println(polynomial1.toStringAsPoly() + " + " + polynomial2.toStringAsPoly()
                + " = \n" + polyGf.add(polynomial1, polynomial2).toStringAsPoly());
        System.out.println(polynomial1.toStringAsPoly() + " / " + polynomial2.toStringAsPoly()
                + " = \n" + polyGf.divide(polynomial1, polynomial2).toStringAsPoly() + "\n");
        
        // Poèítanie s maticami s prvkami v koneènom poli.
        MatrixGF2N matGf = new MatrixGF2N(galoisField);
        
        // Náhodné matice s koeficientami v našom poli s velkosou 3x3.
        Matrix matrix1 = new Matrix(3, 3, galoisField.getFieldSize());
        Matrix matrix2 = new Matrix(3, 3, galoisField.getFieldSize());
        
        System.out.println(matrix1 + " + \n" + matrix2 + " = \n" + 
                matGf.add(matrix1, matrix2));
        System.out.println("Inverse of Matrix: \n" + matrix1 + " = \n" + 
                matGf.inverse(matrix1));
    }
\end{lstlisting}

\mbox{\qquad } Vıstupom tohto kódu je nasledujúci text: \\

\begin{verbatim}
566 + 653 = 187
566 * 653 = 975

[618 + 970x^1 + 628x^2 + 356x^3 + 617x^4] + [393 + 833x^1 + 254x^2] = 
[995 + 139x^1 + 650x^2 + 356x^3 + 617x^4]
[618 + 970x^1 + 628x^2 + 356x^3 + 617x^4] / [393 + 833x^1 + 254x^2] = 
[447 + 655x^1 + 730x^2]

[ 517, 636, 808 ]
[ 198, 105, 357 ]
[ 286, 54, 863 ]
 + 
[ 309, 677, 638 ]
[ 353, 240, 266 ]
[ 808, 347, 124 ]
 = 
[ 816, 217, 342 ]
[ 423, 153, 111 ]
[ 566, 365, 803 ]

Inverse of Matrix: 
[ 517, 636, 808 ]
[ 198, 105, 357 ]
[ 286, 54, 863 ]
 = 
[ 1003, 558, 741 ]
[ 754, 780, 545 ]
[ 267, 1002, 88 ]
\end{verbatim}
  

\section { AES }
Súèasou praktickej èasti tejto bakalárskej práce bola aj implementácia šifrovacieho algoritmu AES. Niektoré 
jeho operácie vykonávajú vıpoèty v koneènom poli $GF({2}^{n})$. Cie¾om teda nebola len správna implementácia
tohto algoritmu, ale taktie praktické vyuitie kninice pre poèítanie v koneènıch poliach a overenie správnosti
jej vıpoètov.	\\
\mbox{\qquad } Pre tento úèel bola navrhnutá trieda AES, ktorá ponúka metódy pre šifrovanie a dešifrovanie
dát s 128, 192, aj s 256-bitovım k¾úèom. 
Pri vytváraní objektu tejto triedy je najskôr potrebné vytvori substituèné tabu¾ky vyuívané algoritmom AES.
Jednou z moností by bolo uloenie konštantnıch hodnôt tıchto tabuliek do atribútov tejto triedy. Keïe ale
bolo cie¾om aj overenie správnosti kninice pre poèítanie v koneènıch poliach, sú tieto tabu¾ky vypoèítané
pri vzniku objektu typu AES pod¾a špecifikácie algoritmu AES.	\\
\mbox{\qquad } Pri vytváraní objektu typu AES je taktie moné špecifikova mód blokovej šifry, ktorı bude
pri šifrovaní a dešifrovaní dát pouitı. Trieda AES podporuje štyri módy: ECB, CBC, CFB, a OFB.
Ak mód blokovej šifry špecifikovanı nie je, bude šifrovanie a dešifrovanie implicitne prebieha v jednoduchom
ECB móde.


\section { Testy }
Po dokonèení implementácie vıslednej aplikácie bolo vytvorenıch nieko¾ko testov.
Ich cie¾om je otestova správnos jej funkcionality a rıchlos jej vıpoètov. 


\subsection { Validaèné testy }
Validaèné testy slúia na overenie správnosti vıpoètov. Porovnávajú sa v nich oèakávané a vypoèítané vısledky aplikácie.
Pre tento úèel bolo vytvorenıch nieko¾ko testovacích tried, ktoré sú súèasou Netbeans projektu.
Všetky verejné metódy triedy AES aj kninice pre poèítanie v koneènıch poliach boli úspešne otestované tımito triedami.
Na testovanie je pouitı testovací framework pre jednotkové testy JUnit.
Pre kadú testovanú triedu je vytvorená aspoò jedna samostatná testovacia trieda.
Testovacie triedy mojej aplikácie sú rozdelené do dvoch balíkov:

\begin{enumerate}
\item \textbf{Balík GaloisFieldsValidityTesting:}	\\
Slúi na testovanie správnosti vıstupov kninice pre poèítanie v koneènıch poliach.
Kadı test je rozdelenı na 2 èasti. Prvá èas pracuje s konštantnımi hodnotami a
od kninice oèakáva správny vısledok od vopred známeho vırazu.
Druhá èas pracuje s náhodnımi dátami.
Testovacie dáta sú vygenerované pri kadom testovaní náhodne. Oèakávané vıstupy tıchto testov
sú odvodené od matematickıch vlastností, ktoré musia by pre dané operácie vdy splnené.

\item \textbf{Balík AESTesting:}	\\
Slúi na testovanie správnosti vıstupov triedy AES. Pre kadı mód blokovej šifry je vytvorená
samostatná testovacia trieda, ktorá šifrovanie v tomto móde testuje. Testovacie dáta sú
pri kadom testovaní rovnaké. Jedná sa o  testovacie vektory z dôveryhodnıch zdrojov,
ktoré pre zadanı k¾úè a blok dát (prípadne aj inicializaènı vektor v inom móde ako ECB)
definujú, ako má vyzera vıslednı zašifrovanı text. Rovnako sa postupuje aj pri dešifrovaní dát.
Ïalej tento balík testuje, èi sa náhodné texty po zašifrovaní a následnom dešifrovaní nezmenia.
 
\end{enumerate}

\subsection { Rıchlostné testy }
Súèasou testovania boli aj rıchlostné testy. Ich cie¾om bolo zisti rıchlostné rozdiely oproti kninici NTL.
Porovnávané boli všetky verejné metódy mojej kninice. (pozn. zatial okrem testovania ireducibility) 
Kadá z nich bola spustená 1 000 000 krát. 
Vdy boli najskôr vygenerované náhodné testovacie dáta potrebné pre danú metódu.	\\
\mbox{\qquad } V nasledujúcej èasti sú zobrazené tabu¾ky, v ktorıch sú uvedené namerané hodnoty v tıchto testoch v sekundách.
Mnou vyvinutá kninica je v nich oznaèená ako GF2N~LIB: \\


\begin{enumerate}
\item
Testovanie poèítania s prvkami v $GF{2}^{n}$ bolo vykonané pre redukèné polynómy stupòa 1, 30 a 60.
Pri umocòovaní prvkov bolo ako exponent zvolené èíslo 1000.

%Tabulka testov s prvkami
\begin {table}[H]
\centering
\caption {Rıchlostné porovnanie kniníc pri poèítaní s prvkami v $GF{2}^{n}$.}
\begin{tabular}{ |c|c|c||c|c||c|c| }
\hline
Redukènı polynóm & \multicolumn{2}{ c|| }{$x + 1$} & \multicolumn{2}{ c|| }{${x}^{30} + x + 1$} & \multicolumn{2}{ c| }{${x}^{60} + x + 1$}  \\
\hline
%\rowcolor{Gray}
\textbf{Kninica}  & \textbf{NTL}  & \textbf{GF2N LIB}  & \textbf{NTL}  & \textbf{GF2N LIB}  & \textbf{NTL}  & \textbf{GF2N LIB}  \\
\hline
Sèítanie & 0,11 & \multicolumn{1}{c||}{0,14} & 0,11 & \multicolumn{1}{c||}{0,18} & 0,11 & 0,15 \\
\hline
Odèítanie & 0,11 & \multicolumn{1}{c||}{0,14} & 0,11 & \multicolumn{1}{c||}{0,16} & 0,12 & 0,13 \\
\hline
Násobenie & 0,16 & \multicolumn{1}{c||}{0,15} & 0,39 & \multicolumn{1}{c||}{0,78} & 0,59 & 0,89 \\
\hline
Delenie & 0,3 & \multicolumn{1}{c||}{0,11} & 1,15 & \multicolumn{1}{c||}{29,71} & 1,92 & 294,16 \\
\hline
Inverzia prvku & 0,24 & \multicolumn{1}{c||}{0,14} & 0,93 & \multicolumn{1}{c||}{28,3} & 1,43 & 296,9 \\
\hline
Mocnina prvku & 0,73 & \multicolumn{1}{c||}{0,17} & 3,53 & \multicolumn{1}{c||}{3,26} & 5,4 & 7,78 \\
\hline
\end{tabular}
\end {table}

\item
Testovanie poèítania s vektormi s prvkami v $GF{2}^{n}$ bolo vykonané pre vektory s ve¾kosami 5 a 30.
Ako ireducibilnı polynóm bol zvolenı: ${x}^{10} + {x}^{3} + 1$.

%Tabulka testov s vektormi
\begin {table}[H]
\centering
\caption {Rıchlostné porovnanie kniníc pri poèítaní s vektormi.}
\begin{tabular}{ |c|c|c||c|c| }
\hline
Ve¾kos vektora & \multicolumn{2}{ c|| }{$5$} & \multicolumn{2}{ c| }{$30$}\\
\hline
%\rowcolor{Gray}
\textbf{Kninica}  & \textbf{NTL}  & \textbf{GF2N LIB}  & \textbf{NTL}  & \textbf{GF2N LIB} \\
\hline
Sèítanie & 0,33 & \multicolumn{1}{c||}{0,43} & 1,31 & 9,94\\
\hline
Odèítanie & 0,32 & \multicolumn{1}{c||}{0,41} & 1,26 & 9,83\\
\hline
Násobenie skalárom & 1,08 & \multicolumn{1}{c||}{1,13} & 4,59 & 5,99\\
\hline
\end{tabular}
\end {table}

\item
Testovanie poèítania s polynómami s prvkami v $GF{2}^{n}$ bolo vykonané pre polynómy stupòa 5 a 30.
Pri delení a pri vıpoète najväèšieho spoloèného delite¾a bol prvı vstupnı polynóm stupòa dvakrát väèšieho ako je uvedené v tabu¾ke.
Pri vıpoète inverzného polynómu bol tento vıpoèet poèítanı modulo polynóm stupòa taktie dvakrát väèšieho ako je uvedené v tabu¾ke.
Pri umocòovaní polynómov bolo ako exponent zvolené èíslo 100.
Ako ireducibilnı polynóm bol zvolenı: ${x}^{10} + {x}^{3} + 1$.

%Tabulka testov s polynomami
\begin {table}[H]
\centering
\caption {Rıchlostné porovnanie kniníc pri poèítaní s polynómami.}
\begin{tabular}{ |c|c|c||c|c| }
\hline
Stupeò polynómov & \multicolumn{2}{ c|| }{$5$} & \multicolumn{2}{ c| }{$30$}\\
\hline
%\rowcolor{Gray}
\textbf{Kninica}  & \textbf{NTL}  & \textbf{GF2N LIB}  & \textbf{NTL}  & \textbf{GF2N LIB} \\
\hline
Sèítanie & 0,32 & \multicolumn{1}{c||}{0,39} & 1,14 & 9,78\\
\hline
Odèítanie & 0,3 & \multicolumn{1}{c||}{0,42} & 1,14 & 9,85\\
\hline
Násobenie & 1,64 & \multicolumn{1}{c||}{4,94} & 8,88 & 113,91\\
\hline
Delenie & 2,84 & \multicolumn{1}{c||}{22,24} & 26,27 & 56,07\\
\hline
GCD & 9,31 & \multicolumn{1}{c||}{48,97} & 152,02 & 347,12\\
\hline
Inverzia & 22,69 & \multicolumn{1}{c||}{76,68} & 713,22 & 1060,22\\
\hline
Umocnenie & 38,33 & \multicolumn{1}{c||}{6921} & 330,13 & 343470\\
\hline
\end{tabular}
\end {table}

\item
Testovanie poèítania s maticami s prvkami v $GF{2}^{n}$ bolo vykonané pre štvorcové matice
ve¾kosti $5 \times 5$ a $10 \times 10$.
Pri umocòovaní matíc bolo ako exponent zvolené èíslo 100.
Ako ireducibilnı polynóm bol zvolenı: ${x}^{10} + {x}^{3} + 1$.

%Tabulka testov s maticami
\begin {table}[H]
\centering
\caption {Rıchlostné porovnanie kniníc pri poèítaní s maticami.}
\begin{tabular}{ |c|c|c||c|c| }
\hline
Ve¾kos matice & \multicolumn{2}{ c|| }{$5 \times 5$} & \multicolumn{2}{ c| }{$10 \times 10$}\\
\hline
%\rowcolor{Gray}
\textbf{Kninica}  & \textbf{NTL}  & \textbf{GF2N LIB}  & \textbf{NTL}  & \textbf{GF2N LIB} \\
\hline
Sèítanie & 5,09 & \multicolumn{1}{c||}{4,11} & 17,8 & 15,39\\
\hline
Odèítanie & 5,15 & \multicolumn{1}{c||}{3,91} & 18,62 & 15,36\\
\hline
Násobenie & 12,05 & \multicolumn{1}{c||}{20,7} & 70,66 & 114,9\\
\hline
Inverzia & 18,36 & \multicolumn{1}{c||}{157,55} & 93,29 & 731,4\\
\hline
Determinant & 9,48 & \multicolumn{1}{c||}{62,5} & 42,22 & 1892500\\
\hline
Gaussova elim. & 9,6 & \multicolumn{1}{c||}{22,27} & 44,18 & 91,13\\
\hline
Lin. systém rovníc & 12,33 & \multicolumn{1}{c||}{55,28} & 47,89 & 237,32\\
\hline
Obraz & 11,98 & \multicolumn{1}{c||}{44,6} & 51,46 & 203,42\\
\hline
Jadro & 12,68 & \multicolumn{1}{c||}{24,5} & 53,96 & 89,71\\
\hline
Umocnenie & 67,16 & \multicolumn{1}{c||}{1372} & 446,92 & 10501\\
\hline
\end{tabular}
\end {table}

\end{enumerate}


Rıchlostné testovanie bolo vykonané pre získanie predstavy o rıchlosti mojej kninice oproti uznávanej,
vysokorıchlostnej kninici NTL. Testy boli vytvorené tak, aby zaznamenali èasovú zloitos pouitıch algoritmov
pre rôzne vstupné dáta. Z vısledkov mono vyèíta, e vıpoèetnı èas niektorıch mojich algoritmov extrémne rıchlo narastá pri
zväèšujúcich sa vstupnıch dátach. Na základe tıchto vısledkov je moné prispôsobi prácu na kninici v budúcnosti a 
algoritmy s vysokou zloitosou nahradi rıchlejšími.



\section { Moné rozšírenia }
\label{sec:PossibleExpansions}
Mnou vytvorenú aplikácia má nieko¾ko nedostatkov, ktoré by bolo dobré v budúcnosti vylepši èi odstráni.
Taktie existuje rada rozšírení, ktoré by bolo vhodné do aplikácie doplni.	\\
Toto sú námety na prácu do budúcna:	\\

\begin{enumerate}
\item 
Zmena reprezentácie prvkov koneèného po¾a. Moja kninica reprezentuje prvok po¾a $GF({2}^{n})$
pomocou primitívneho dátového typu Long. Znamená to ale, e maximálna hodnota takého prvku je
${2}^{63} - 1$. To môe by v niektorıch prípadoch nedostatoèné. Preto by bolo dobré vytvori
triedu, ktorá by si vo svojom atribúte udriavala kolekciu Longov a implementovala by pre òu
základnú aritmetiku. Kninica by túto triedu mohla vyuíva na reprezentáciu prvkov po¾a, ktorıch
ve¾kos by tak u nebola obmedzená. Ïalšie moné riešene by bolo vyuitie inej kninice na tento
úèel, napríklad niektorú z dostupnıch portácii kninice GMP (opísanej v èasti ~\ref{subsec:GMP}) pre jazyk Java.

\item  
Vyuitie lepších a rıchlejších algoritmov. Porovnanie s kninicou NTL ukázali, e mnostvo metód
by mohlo fungova rıchlejšie pri zvolení iného prístupu. Preto by bola do budúcna vhodná hlbšia
analıza riešenıch problémov a nájdenie efektívnejších matematickıch postupov pre ich riešenie.
Súèasné riešenia sa zameriavajú najmä na správnos vısledku, nie vdy aj na rıchlos cesty k nemu.	\\
\mbox{\qquad } Mohlo by ís napríklad o pouitie algoritmu Karatsuba pri násobení polynómov.
Ïalej by bolo vhodné poui inú metódu na poèítanie determinantu. Súèastnı Laplaceov rozvoj so
zloitosou \textrm O$({2}^{n}n)$ ~\cite{DeterminantEfficient} by sa dal nahradi napríklad metódou LU dekompozície, 
ktorej zloitos je \textrm O$({n}^{3})$ ~\cite{DeterminantEfficient}.


\item
Pridanie ïalšej funkcionality. Súèasná verzia kninice dokáe pracova s nieko¾kımi matematickımi objektami
a pre kadı z nich zvláda nieko¾ko operácií. Ich poèet je ale obmedzenı a existuje mnostvo ïalších zaujímavıch
funkcií, ktoré by bolo dobré v budúcnosti do kninice prida. Mohlo by sa jedna napríklad o generovanie
ireducibilnıch polynómov, funkcie pre minimálne polynómy,
modulárnu kompozíciu, faktorizáciu polynómov, a mnoho iného. Taktie by mohli by pridané ïalšie algoritmy
(tak ako algoritmus AES), ktoré vyuívajú funkcionalitu kninice. Mohlo by ís napríklad o algoritmy pre
kryptografiu nad eliptickımi krivkami.

\item
Zlepšenie objektového návrhu kninice. Pri práci na kninici v budúcnosti by bolo dobré zaèa úpravou tried
a rozhraní do podoby, ktorá by zabezpeèovala lepšiu rozšíritelnos. Tento cie¾ by sa dal dosiahnu èastejším
vyuívaním rozhraní, generickıch typov, abstraktnıch tried a dediènosti.
Ako inšpirácia by mohol slúi balík linearalgebra kninice Bouncy Castle, ktorı tieto zásady dodruje. 

  
\end{enumerate}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Chapter 4 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter { Záver }
Cie¾om mojej bakalárskej práce bolo vytvori kninicu schopnú poèíta 
v koneènıch poliach s rôznymi matematickımi štruktúrami. Ïalej bolo 
cie¾om implementova šifrovací algoritmus AES, ktorı má funkcionalitu 
tejto kninice vyuíva. \\
\mbox{\qquad } Vısledná aplikácia je funkèná a pracuje pod¾a vopred stanovenıch 
poiadaviek. Z porovnaní s ostatnımi kninicami ale vyplıva, e na 
aplikácii je stále èo zlepšova. Vısledky rıchlostnıch porovnávacích 
testov s kninicou NTL ukázali, e pre mnostvo funkcií existujú 
lepšie a mnohonásobne rıchlejšie algoritmy. Taktie by bolo dobré do 
aplikácie doplni navrhované vylepšenia zo sekcie ~\ref{sec:PossibleExpansions}. \\
\mbox{\qquad } Napriek tımto nedostatkom je vısledkom mojej práce funkèná kninica, 
ktorej pouitie je jednoduché. Jej vyuite¾nos je úspešne demonštrovaná funkènou implementáciou algoritmu AES.
Pre jazyk Java existuje len ve¾mi málo 
nástrojov s podobnou funkcionalitou. Po zapracovaní navrhovanıch 
vylepšení by sa z nej mohol sta dobrı nástroj pre poèítanie v 
koneènıch poliach pouitelnı do rôznych ïalších projektov. 


\newpage

\bibliography{bp_biblio} % soubor s citovanımi
                           % polokami bibliografie 
	
\nocite{*}	
%\printindex	


\begin{appendices}
\chapter{Obsah priloeného DVD}
Priloené DVD obsahuje:
\begin{itemize}

	\item 
	\texttt{src/Computation\_with\_finite\_fields} - Zloka so zdrojovımi kódmi mojej aplikácie vo formáte NetBeans projektu.
	\item 
	\texttt{src/tests} - Zloka so zdrojovımi kódmi vykonanıch rıchlostnıch testov.
	\item 
	\texttt{text/bp.tex} - Zdrojovı textovı súbor tejto práce pre sadzací systém \LaTeX.
	\item 
	\texttt{text/bp.bib} - Zdrojovı textovı súbor bibliografie tejto práce pre nástroj \BibTeX.
		
\end{itemize}

\end{appendices}
					   

\end{document}
